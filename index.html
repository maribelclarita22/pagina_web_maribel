<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>B√∫squeda de Expedientes - Poder Judicial</title>

<style>
:root {
  --rojo: #7d0000;
  --rojo-oscuro: #5a0000;
  --gris: #f7f7f7;
  --borde: #d1d1d1;
  --azul: #003366;
}

/* === GENERAL === */
body {
  font-family: "Segoe UI", sans-serif;
  background-color: white;
  color: #222;
  margin: 0;
  padding: 0;
}

/* === ENCABEZADO === */
.navbar {
  background-color: var(--rojo);
  color: white;
  padding: 10px 0;
}
.navbar .container {
  width: 90%;
  max-width: 1100px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.navbar-brand {
  display: flex;
  align-items: center;
  gap: 10px;
  color: white;
  text-decoration: none;
  font-weight: bold;
  font-size: 18px;
}
.navbar-brand img {
  height: 32px;
}
.nav-links {
  display: flex;
  gap: 2rem;
}
.nav-links a {
  color: white;
  text-decoration: none;
  font-weight: 500;
}
.nav-links a:hover {
  text-decoration: underline;
  color: #ffc107;
}

/* === COMUNICADO === */
.comunicado {
  background-color: #fff5f5;
  border: 1px solid var(--rojo);
  color: var(--rojo);
  text-align: center;
  padding: 10px 20px;
  font-size: 14px;
  line-height: 1.4;
  margin: 20px auto;
  width: 90%;
  max-width: 1100px;
}
.comunicado strong {
  display: block;
  font-size: 15px;
  margin-bottom: 4px;
}

/* === FORMULARIO PRINCIPAL === */
.container-main {
  width: 90%;
  max-width: 850px;
  margin: 30px auto;
  background: #fff;
  border: 1px solid #cfcfcf;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.header-tabs {
  display: flex;
  background-color: var(--rojo);
}
.header-tabs button {
  flex: 1;
  border: none;
  padding: 10px;
  background-color: #e6e6e6;
  color: var(--rojo);
  font-weight: bold;
  cursor: pointer;
}
.header-tabs button.active {
  background-color: var(--rojo);
  color: #fff;
}

/* === FORMULARIOS === */
.formulario {
  padding: 20px 30px;
  background-color: var(--gris);
}

.form-group {
  margin-bottom: 15px;
}
label {
  display: block;
  font-weight: 600;
  color: #333;
  font-size: 14px;
  margin-bottom: 4px;
}
select, input[type="text"] {
  width: 100%;
  padding: 8px;
  border: 1px solid var(--borde);
  border-radius: 4px;
  font-size: 14px;
}
small {
  color: #003399;
  font-size: 12px;
}

/* === CAPTCHA === */
.captcha-container {
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 20px;
  margin: 20px auto;
  width: 80%;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}
.captcha-header {
  background-color: var(--rojo);
  color: #fff;
  padding: 8px;
  text-align: center;
  border-radius: 6px 6px 0 0;
  font-weight: bold;
  margin: -20px -20px 15px -20px;
}
.captcha {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
}
#captcha-text {
  background: #000;
  color: #fff;
  font-weight: bold;
  font-size: 22px;
  padding: 5px 15px;
  border-radius: 6px;
  letter-spacing: 2px;
}
#captcha-msg {
  text-align: center;
  margin-top: 10px;
  font-weight: 600;
  font-size: 14px;
}

/* === BOT√ìN === */
.btn-consultar {
  background-color: var(--rojo);
  color: #fff;
  border: none;
  border-radius: 20px;
  padding: 10px 30px;
  font-size: 15px;
  cursor: pointer;
  display: block;
  margin: 15px auto;
}
.btn-consultar:hover {
  background-color: var(--rojo-oscuro);
}

footer {
  text-align: center;
  font-size: 12px;
  color: #555;
  margin: 20px 0;
}
</style>
</head>
<body>

<!-- === ENCABEZADO === -->
<nav class="navbar">
  <div class="container">
    <a class="navbar-brand" href="#">
      <img src="PODER_JUDICIALL.png" alt="Logo">
      PODER JUDICIAL
    </a>
    <div class="nav-links">
      <a href="index.html">Inicio</a>
      <a href="dni.html">Consultar</a>
      <a href="#">Acerca de mi</a>
    </div>
  </div>
</nav>

<!-- === COMUNICADO === -->
<div class="comunicado">
  <strong>COMUNICADO</strong>
  A partir de la fecha, se ha incluido un nuevo campo como medida t√©cnica de protecci√≥n, 
  para que solo las partes puedan acceder a sus expedientes; a requerimiento de la Autoridad 
  Nacional de Protecci√≥n de Datos Personales y el MINJUSDH.
</div>

<!-- === FORMULARIO PRINCIPAL === -->
<div class="container-main">
  <div class="header-tabs">
    <button class="active" id="tab-filtros">Por filtros</button>
    <button id="tab-codigo">Por C√≥digo de Expediente</button>
  </div>

  <!-- === FORMULARIO POR FILTROS === -->
  <div id="form-filtros" class="formulario">
    <div class="form-group">
      <label>Distrito judicial *</label>
      <select>
      <option value="">--SELECCIONAR--</option>
        <option>Amazonas</option>
        <option>√Åncash</option>
        <option>Apur√≠mac</option>
        <option>Arequipa</option>
        <option>Ayacucho</option>
        <option>Cajamarca</option>
        <option>Callao</option>
        <option>Cama√±</option>
        <option>Huancavelica</option>
        <option>Hu√°nuco</option>
        <option>Ica</option>
        <option>Jun√≠n</option>
        <option>La Libertad</option>
        <option>Lambayeque</option>
        <option>Lima</option>
        <option>Pasco</option>
        <option>Puno</option>
        <option>San Mart√≠n</option>
        <option>Piura</option>
        <option>Tacna</option>
        <option>Tumbes</option>
        <option>Ucayali</option>
      </select>
    </div>

    <div class="form-group">
      <label>Instancia *</label>
      <input type="text" placeholder="Ingrese la instancia">
    </div>

    <div class="form-group">
      <label>Especialidad *</label>
      <input type="text" placeholder="Ingrese la especialidad">
    </div>

    <div class="form-group">
      <label>A√±o *</label>
      <select>
        <option value="">--SELECCIONAR--</option>
        <option>2025</option>
        <option>2024</option>
        <option>2023</option>
        <option>2022</option>
        <option>2021</option>
        <option>2020</option>
        <option>2019</option>
        <option>2018</option>
        <option>2017</option> 
        <option>2016</option>
        <option>2015</option> 

      </select>
    </div>

    <div class="form-group">
      <label>N¬∞ Expediente *</label>
      <input type="text" placeholder="Ingrese el n√∫mero de expediente">
    </div>

    <div class="form-group">
      <label>Parte</label>
      <input type="text" placeholder="Apellido paterno y materno o raz√≥n social">
    </div>
  </div>

  <!-- === FORMULARIO POR C√ìDIGO === -->
  <div id="form-codigo" class="formulario" style="display:none;">

    <h4 style="text-align:center; margin-bottom:20px;">C√≥digo del Expediente</h4>

    <div class="form-group">
      <label>N√∫mero completo *</label>
      <input id="expediente-codigo" type="text" placeholder="Ejemplo: 01437-2025-0-2111-JP-FC-02">
      <small>Ingrese el n√∫mero completo tal como est√° registrado.</small>
    </div>

    <p id="msg-codigo" style="font-weight:600; margin-top:10px;"></p>
  </div>
</div>
<div id="recordatorio-expediente"
     style="
      margin: 20px auto;
      padding: 15px;
      width: 80%;
      max-width: 600px;
      background: #fff8e1;
      border-left: 5px solid #ffb300;
      border-radius: 6px;
      color: #5a4600;
      font-weight: 600;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align:center;">
  üìå <strong>Formato correcto del n√∫mero de expediente:</strong><br>
  <span style='font-size:17px;'>00001-2025-0-2111-JP-FC-02</span>
</div>

<!-- === CAPTCHA GLOBAL === -->
<div class="captcha-container">
  <div class="captcha-header">Validaci√≥n de seguridad</div>
  <div class="captcha">
    <div id="captcha-text"></div>
    <input id="captcha-input" type="text" placeholder="C√≥digo">
    <button id="btn-refresh">üîÑ</button>
  </div>
  <p id="captcha-msg"></p>

  <button class="btn-consultar" id="btn-consultar">CONSULTAR</button>
</div>
<div id="recordatorio-expediente"
     style="
      margin: 20px auto;
      padding: 15px;
      width: 80%;
      max-width: 600px;
      background: #fff8e1;
      border-left: 5px solid #ffb300;
      border-radius: 6px;
      color: #5a4600;
      font-weight: 600;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align:center;">
  üìå <strong>Formato correcto del n√∫mero de expediente:</strong><br>
  <span style='font-size:17px;'>00001-2025-0-2111-JP-FC-02</span>
</div>

<footer>
  * La b√∫squeda se deber√° realizar ingresando el n√∫mero, a√±o y especialidad del expediente.
</footer>

<script>
/* ============================================================
   CAMBIO ENTRE PESTA√ëAS (Por filtros / Por c√≥digo)
   ============================================================ */
document.getElementById("tab-filtros").addEventListener("click", () => {
  document.getElementById("form-filtros").style.display = "block";
  document.getElementById("form-codigo").style.display = "none";
  document.getElementById("tab-filtros").classList.add("active");
  document.getElementById("tab-codigo").classList.remove("active");
});

document.getElementById("tab-codigo").addEventListener("click", () => {
  document.getElementById("form-filtros").style.display = "none";
  document.getElementById("form-codigo").style.display = "block";
  document.getElementById("tab-codigo").classList.add("active");
  document.getElementById("tab-filtros").classList.remove("active");
});

/* ============================================================
   CAPTCHA
   ============================================================ */
function generarCaptcha() {
  const chars = "ABCDEFGHJKLMNPQRSTUVWXYZ23456789";
  let cap = "";
  for (let i = 0; i < 5; i++) {
    cap += chars[Math.floor(Math.random() * chars.length)];
  }
  document.getElementById("captcha-text").textContent = cap;
  return cap;
}

let captchaActual = generarCaptcha();

document.getElementById("btn-refresh").addEventListener("click", () => {
  captchaActual = generarCaptcha();
  document.getElementById("captcha-msg").textContent = "";
});

/* ============================================================
   VALIDACI√ìN DEL FORMATO DE EXPEDIENTE ‚Äî Poder Judicial
   FORMATO EXACTO:
   00001-2025-0-2111-JP-FC-02
   ============================================================ */

const regExpediente = /^[0-9]{5}-[0-9]{4}-0-[0-9]{4}-[A-Z]{2}-[A-Z]{2}-[0-9]{2}$/;

/* ============================================================
   BOT√ìN CONSULTAR
   ============================================================ */
document.getElementById("btn-consultar").addEventListener("click", () => {

  const inputCaptcha = document.getElementById("captcha-input").value.trim().toUpperCase();
  const msg = document.getElementById("captcha-msg");

  /* --- Validaci√≥n de CAPTCHA --- */
  if (inputCaptcha !== captchaActual) {
    msg.style.color = "red";
    msg.textContent = "‚ùå C√≥digo de seguridad incorrecto.";
    return;
  }

  /* ============================================================
     SI SE EST√Å USANDO "POR C√ìDIGO DE EXPEDIENTE"
     ============================================================ */
  if (document.getElementById("form-codigo").style.display === "block") {

    const exp = document.getElementById("expediente-codigo").value.trim().toUpperCase();

    if (!regExpediente.test(exp)) {
      msg.style.color = "red";
      msg.textContent = "‚ö†Ô∏è El expediente debe tener el formato EXACTO: 00001-2025-0-2111-JP-FC-02";
      return;
    }

    msg.style.color = "green";
    msg.textContent = "‚úî C√≥digo v√°lido. Cargando informaci√≥n...";

    setTimeout(() => {
      window.location.href = "detalle.html?exp=" + encodeURIComponent(exp);
    }, 1500);

    return;
  }

  /* ============================================================
     SI SE EST√Å USANDO "POR FILTROS"
     ============================================================ */

  const expedienteInput = document.querySelector('input[placeholder="Ingrese el n√∫mero de expediente"]');

  if (expedienteInput) {
    const exp = expedienteInput.value.trim().toUpperCase();

    if (!regExpediente.test(exp)) {
      msg.style.color = "red";
      msg.textContent = "‚ö†Ô∏è Ingrese el n√∫mero en formato v√°lido: 00001-2025-0-2111-JP-FC-02";
      return;
    }
  }

  msg.style.color = "green";
  msg.textContent = "‚úî Consulta v√°lida. Procesando...";

  setTimeout(() => {
    window.location.href = "detalle.html";
  }, 1500);
});

/* ============================================================
   AUTOCOMPLETAR ESPACIOS EN MAY√öSCULA
   (Convierte autom√°ticamente a may√∫sculas)
   ============================================================ */
const autoUpper = document.getElementById("expediente-codigo");
if (autoUpper) {
  autoUpper.addEventListener("input", () => {
    autoUpper.value = autoUpper.value.toUpperCase();
  });
}
</script>


</body>
</html>

